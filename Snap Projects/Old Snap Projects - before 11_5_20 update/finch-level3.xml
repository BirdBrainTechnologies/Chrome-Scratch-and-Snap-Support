<blocks app="Snap! 4.2, http://snap.berkeley.edu" version="1"><block-definition s="Say This %&apos;speech&apos;" type="command" category="sound"><header></header><code></code><translations></translations><inputs><input type="%txt">I am known by many names, but you may call me...Tim.</input></inputs><script><block s="doRun"><block s="reportJSFunction"><list><l>phrase</l></list><l>finchAppID = "ojocioejjpmeccjfjlhkepchminjemod";&#xD;var report = { message: "SPEAK", val: phrase};&#xD;chrome.runtime.sendMessage(finchAppID, report, function() {});</l></block><list><block var="speech"/></list></block></script></block-definition><block-definition s="Move Finch Left: %&apos;Left&apos; Right: %&apos;Right&apos;" type="command" category="other"><header></header><code></code><translations></translations><inputs><input type="%n">0</input><input type="%n">0</input></inputs><script><block s="doRun"><block s="reportJSFunction"><list><l>left</l><l>right</l></list><l>finchAppID = "ojocioejjpmeccjfjlhkepchminjemod";&#xD;////////////////////////////////////////////////////////////////////////////////&#xD;// In order to avoid sending more messages than the app can handle, whenever we&#xD;// send a message we also save it in a persistent global variable. When the&#xD;// message is processed in the app, the callback checks if the global variable&#xD;// still matches what it was changed to. If it was, it deletes the global&#xD;// variable. Otherwise the message is resent with new data.&#xD;//&#xD;// When this block is called it checks if the global value has been set. If it&#xD;// has, it sends a message. Otherwise it just updates the value and lets the&#xD;// callback handle it.&#xD;&#xD;&#xD;// We can&apos;t run code beforehand to define values so we must check each block&#xD;// call if they are set.&#xD;if (window.birdbrain === undefined || window.birdbrain.moveSpeed === undefined) {&#xD;    window.birdbrain = window.birdbrain || {};&#xD;    window.birdbrain.moveSpeed = {&#xD;        // By attaching this function to a global variable, it is only&#xD;        // defined once instead of every time this block is called, improving&#xD;        // performance significantly.&#xD;        setMoveSpeed: function (speeds) {&#xD;            function callback() {&#xD;                // This array comparison is by reference instead of value.&#xD;                // This could mean false negatives if it&apos;s set to the same value, but these are uncommon and&#xD;                // the consequences are just a couple more messages sent. I do not think it is worth the&#xD;                // execution time and code complexity to do a proper value comparison.&#xD;                if (window.birdbrain.moveSpeed.speeds === speeds) {&#xD;                    delete window.birdbrain.moveSpeed.speeds;&#xD;                }&#xD;                else {&#xD;                    window.birdbrain.moveSpeed.setMoveSpeed(window.birdbrain.moveSpeed.speeds);&#xD;                }&#xD;            }&#xD;            var report = {&#xD;                message: "M".charCodeAt(0),&#xD;                leftDirection: speeds[0] &lt; 0 ? 1 : 0,&#xD;                leftSpeed: Math.abs(speeds[0]),&#xD;                rightDirection: speeds[1] &lt; 0 ? 1 : 0,&#xD;                rightSpeed: Math.abs(speeds[1]),&#xD;            };&#xD;            console.log(report);&#xD;            chrome.runtime.sendMessage(finchAppID, report, callback);&#xD;        }&#xD;    };&#xD;}&#xD;&#xD;// constrain n to the range [-255..255]&#xD;function constrain(n) {&#xD;    return Math.max(Math.min(n, 255), -255);&#xD;}&#xD;&#xD;var speeds = [constrain(Math.round(left * 2.55)), constrain(Math.round(right * 2.55))];&#xD;&#xD;if (window.birdbrain.moveSpeed.speeds === undefined) {&#xD;  window.birdbrain.moveSpeed.setMoveSpeed(speeds);&#xD;}&#xD;&#xD;window.birdbrain.moveSpeed.speeds = speeds;</l></block><list><block var="Left"/><block var="Right"/></list></block></script></block-definition><block-definition s="Stop Finch" type="command" category="other"><header></header><code></code><translations></translations><inputs></inputs><script><custom-block s="Move Finch Left: %n Right: %n"><l>0</l><l>0</l></custom-block></script></block-definition><block-definition s="Finch LED R: %&apos;red&apos; G: %&apos;green&apos; B: %&apos;blue&apos;" type="command" category="looks"><header></header><code></code><translations></translations><inputs><input type="%n">0</input><input type="%n">100</input><input type="%n">0</input></inputs><script><block s="doRun"><block s="reportJSFunction"><list><l>red</l><l>green</l><l>blue</l></list><l>finchAppID = "ojocioejjpmeccjfjlhkepchminjemod";&#xD;////////////////////////////////////////////////////////////////////////////////&#xD;// In order to avoid sending more messages than the app can handle, whenever we&#xD;// send a message we also save it in a persistent global variable. When the&#xD;// message is processed in the app, the callback checks if the global variable&#xD;// still matches what it was changed to. If it was, it deletes the global&#xD;// variable. Otherwise the message is resent with new data.&#xD;//&#xD;// When this block is called it checks if the global value has been set. If it&#xD;// has, it sends a message. Otherwise it just updates the value and lets the&#xD;// callback handle it.&#xD;&#xD;&#xD;// We can&apos;t run code beforehand to define values so we must check each block&#xD;// call if they are set.&#xD;if (window.birdbrain === undefined || window.birdbrain.LED === undefined) {&#xD;    window.birdbrain = window.birdbrain || {};&#xD;    window.birdbrain.LED = {&#xD;        // By attaching this function to a global variable, it is only&#xD;        // defined once instead of every time this block is called, improving&#xD;        // performance significantly.&#xD;        setLED: function (values) {&#xD;            function callback() {&#xD;                // This array comparison is by reference instead of value.&#xD;                // This could mean false negatives if it&apos;s set to the same value, but these are uncommon and&#xD;                // the consequences are just a couple more messages sent. I do not think it is worth the&#xD;                // execution time and code complexity to do a proper value comparison.&#xD;                if (window.birdbrain.LED.values === values) {&#xD;                    delete window.birdbrain.LED.values;&#xD;                }&#xD;                else {&#xD;                    window.birdbrain.LED.setLED(window.birdbrain.LED.values);&#xD;                }&#xD;            }&#xD;            var report = {  message: "O".charCodeAt(0),&#xD;                            red: values[0],&#xD;                            green: values[1],&#xD;                            blue: values[2]&#xD;                         };&#xD;            console.log(report);&#xD;            chrome.runtime.sendMessage(finchAppID, report, callback);&#xD;        }&#xD;    };&#xD;}&#xD;&#xD;// constrain n to the range [0..255]&#xD;function constrain(n) {&#xD;    return Math.max(Math.min(n, 255), 0);&#xD;}&#xD;&#xD;var values = [constrain(Math.round(red * 2.55)), constrain(Math.round(green * 2.55)), constrain(Math.round(blue * 2.55))];&#xD;&#xD;if (window.birdbrain.LED.values === undefined) {&#xD;  window.birdbrain.LED.setLED(values);&#xD;}&#xD;&#xD;window.birdbrain.LED.values = values;</l></block><list><block var="red"/><block var="green"/><block var="blue"/></list></block></script></block-definition><block-definition s="Finch Buzzer %&apos;frequency&apos; Hz %&apos;duration&apos; ms" type="command" category="sound"><header></header><code></code><translations></translations><inputs><input type="%n">440</input><input type="%n">500</input></inputs><script><block s="doRun"><block s="reportJSFunction"><list><l>freq</l><l>time</l></list><l>finchAppID = "ojocioejjpmeccjfjlhkepchminjemod";&#xD;////////////////////////////////////////////////////////////////////////////////&#xD;// In order to avoid sending more messages than the app can handle, whenever we&#xD;// send a message we also save it in a persistent global variable. When the&#xD;// message is processed in the app, the callback checks if the global variable&#xD;// still matches what it was changed to. If it was, it deletes the global&#xD;// variable. Otherwise the message is resent with new data.&#xD;//&#xD;// When this block is called it checks if the global value has been set. If it&#xD;// has, it sends a message. Otherwise it just updates the value and lets the&#xD;// callback handle it.&#xD;&#xD;&#xD;// We can&apos;t run code beforehand to define values so we must check each block&#xD;// call if they are set.&#xD;if (window.birdbrain === undefined || window.birdbrain.buzzer === undefined) {&#xD;    window.birdbrain = window.birdbrain || {};&#xD;    window.birdbrain.buzzer = {&#xD;        // By attaching this function to a global variable, it is only&#xD;        // defined once instead of every time this block is called, improving&#xD;        // performance significantly.&#xD;        setBuzzer: function (value) {&#xD;            function callback() {&#xD;                // This object comparison is by reference instead of value.&#xD;                // This could mean false negatives if it&apos;s set to the same value, but these are uncommon and&#xD;                // the consequences are just a couple more messages sent. I do not think it is worth the&#xD;                // execution time and code complexity to do a proper value comparison.&#xD;                if (window.birdbrain.buzzer.value === value) {&#xD;                    delete window.birdbrain.buzzer.value;&#xD;                }&#xD;                else {&#xD;                    window.birdbrain.buzzer.setBuzzer(window.birdbrain.buzzer.value);&#xD;                }&#xD;            }&#xD;            var report = {&#xD;                message: "B".charCodeAt(0),&#xD;                timeHigh: value.time &gt;&gt; 8,  // Since the report must be in bytes&#xD;                timeLow: value.time &amp; 0xFF, // and these values are bigger than a byte&#xD;                freqHigh: value.freq &gt;&gt; 8,  // they are split into two bytes&#xD;                freqLow: value.freq &amp; 0xFF&#xD;            };&#xD;            chrome.runtime.sendMessage(finchAppID, report, callback);&#xD;        }&#xD;    };&#xD;}&#xD;&#xD;// constrain n to the range [0..65535]&#xD;function constrain(n) {&#xD;    return Math.max(Math.min(n, 0xFFFF), 0);&#xD;}&#xD;&#xD;var value = {&#xD;    freq: constrain(Math.round(freq)),&#xD;    time: constrain(Math.round(time))&#xD;};&#xD;&#xD;if (window.birdbrain.buzzer.value === undefined) {&#xD;    window.birdbrain.buzzer.setBuzzer(value);&#xD;}&#xD;&#xD;window.birdbrain.buzzer.value = value;</l></block><list><block var="frequency"/><block var="duration"/></list></block></script></block-definition><block-definition s="Finch Buzz+Wait %&apos;frequency&apos; Hz %&apos;duration&apos; ms" type="command" category="sound"><header></header><code></code><translations></translations><inputs><input type="%n">440</input><input type="%n">500</input></inputs><script><custom-block s="Finch Buzzer %n Hz %n ms"><block var="frequency"/><block var="duration"/></custom-block><block s="doWait"><block s="reportQuotient"><block var="duration"/><l>1000</l></block></block></script></block-definition><block-definition s="Finch Left Light Sensor" type="reporter" category="sensing"><header></header><code></code><translations></translations><inputs></inputs><script><block s="doRun"><block s="reportJSFunction"><list></list><l>var sensorvalue = Number.MAX_VALUE;&#xD;&#xD;&#xD;&#xD;&#xD;finchAppID = "ojocioejjpmeccjfjlhkepchminjemod";&#xD;&#xD;&#xD;&#xD;&#xD;var myself = this;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;function getSensorData(callback) {&#xD;&#xD;&#xD;&#xD;&#xD; var getValue = function(response) {&#xD;&#xD;&#xD;&#xD;&#xD; sensorvalue = response.light1;&#xD; callback(sensorvalue);&#xD;&#xD;&#xD;&#xD;&#xD; };&#xD;&#xD;&#xD;&#xD;&#xD; console.log("sending message to chrome");&#xD;&#xD;&#xD;&#xD;&#xD; chrome.runtime.sendMessage(finchAppID, {&#xD;&#xD;&#xD;&#xD;&#xD; message: "POLL"&#xD;&#xD;&#xD;&#xD;&#xD; }, getValue);&#xD;&#xD;&#xD;&#xD;&#xD; console.log("sent message to chrome");&#xD;&#xD;&#xD;&#xD;&#xD;};&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;function processValue(sensorvalue) {&#xD;&#xD;&#xD;&#xD;&#xD; console.log("sensor value has been set: ", sensorvalue);&#xD;&#xD;&#xD;&#xD;&#xD; myself.finchDummy1 = sensorvalue;&#xD;};&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;getSensorData(processValue);&#xD;&#xD;&#xD;&#xD;</l></block><list></list></block><block s="doWait"><l>0.01</l></block><block s="doReport"><block s="evaluate"><block s="reportJSFunction"><list></list><l>return this.finchDummy1;</l></block><list></list></block></block></script></block-definition><block-definition s="Finch Right Light Sensor" type="reporter" category="sensing"><header></header><code></code><translations></translations><inputs></inputs><script><block s="doRun"><block s="reportJSFunction"><list></list><l>var sensorvalue = Number.MAX_VALUE;&#xD;&#xD;&#xD;&#xD;&#xD;finchAppID = "ojocioejjpmeccjfjlhkepchminjemod";&#xD;&#xD;&#xD;&#xD;&#xD;var myself = this;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;function getSensorData(callback) {&#xD;&#xD;&#xD;&#xD;&#xD; var getValue = function(response) {&#xD;&#xD;&#xD;&#xD;&#xD; sensorvalue = response.light2;&#xD; callback(sensorvalue);&#xD;&#xD;&#xD;&#xD;&#xD; };&#xD;&#xD;&#xD;&#xD;&#xD;&#xD; console.log("sending message to chrome");&#xD;&#xD;&#xD;&#xD;&#xD; chrome.runtime.sendMessage(finchAppID, {&#xD;&#xD;&#xD;&#xD;&#xD; message: "POLL"&#xD;&#xD;&#xD;&#xD;&#xD; }, getValue);&#xD;&#xD;&#xD;&#xD;&#xD; console.log("sent message to chrome");&#xD;&#xD;&#xD;&#xD;&#xD;};&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;function processValue(sensorvalue) {&#xD;&#xD;&#xD;&#xD;&#xD; console.log("sensor value has been set: ", sensorvalue);&#xD;&#xD;&#xD;&#xD;&#xD; myself.finchDummy2 = sensorvalue;&#xD;};&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;getSensorData(processValue);&#xD;&#xD;&#xD;&#xD;</l></block><list></list></block><block s="doWait"><l>0.01</l></block><block s="doReport"><block s="evaluate"><block s="reportJSFunction"><list></list><l>return this.finchDummy2;</l></block><list></list></block></block></script></block-definition><block-definition s="Finch Light Sensors" type="reporter" category="sensing"><header></header><code></code><translations></translations><inputs></inputs><script><block s="doReport"><block s="reportNewList"><list><custom-block s="Finch Left Light Sensor"></custom-block><custom-block s="Finch Right Light Sensor"></custom-block></list></block></block></script></block-definition><block-definition s="Finch X Acceleration" type="reporter" category="sensing"><header></header><code></code><translations></translations><inputs></inputs><script><block s="doRun"><block s="reportJSFunction"><list></list><l>var sensorvalue = Number.MAX_VALUE;&#xD;&#xD;&#xD;&#xD;&#xD;finchAppID = "ojocioejjpmeccjfjlhkepchminjemod";&#xD;&#xD;&#xD;&#xD;&#xD;var myself = this;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;function getSensorData(callback) {&#xD;&#xD;&#xD;&#xD;&#xD; var getValue = function(response) {&#xD;&#xD;&#xD;&#xD;&#xD; sensorvalue = response.xAcc;&#xD; callback(sensorvalue);&#xD;&#xD;&#xD;&#xD;&#xD; };&#xD;&#xD;&#xD;&#xD;&#xD;&#xD; console.log("sending message to chrome");&#xD;&#xD;&#xD;&#xD;&#xD; chrome.runtime.sendMessage(finchAppID, {&#xD;&#xD;&#xD;&#xD;&#xD; message: "POLL"&#xD;&#xD;&#xD;&#xD;&#xD; }, getValue);&#xD;&#xD;&#xD;&#xD;&#xD; console.log("sent message to chrome");&#xD;&#xD;&#xD;&#xD;&#xD;};&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;function processValue(sensorvalue) {&#xD;&#xD;&#xD;&#xD;&#xD; console.log("sensor value has been set: ", sensorvalue);&#xD;&#xD;&#xD;&#xD;&#xD; myself.finchDummy3 = sensorvalue;&#xD;};&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;getSensorData(processValue);&#xD;&#xD;&#xD;&#xD;</l></block><list></list></block><block s="doWait"><l>0.01</l></block><block s="doReport"><block s="evaluate"><block s="reportJSFunction"><list></list><l>return this.finchDummy3;</l></block><list></list></block></block></script></block-definition><block-definition s="Finch Y Acceleration" type="reporter" category="sensing"><header></header><code></code><translations></translations><inputs></inputs><script><block s="doRun"><block s="reportJSFunction"><list></list><l>var sensorvalue = Number.MAX_VALUE;&#xD;&#xD;&#xD;&#xD;&#xD;finchAppID = "ojocioejjpmeccjfjlhkepchminjemod";&#xD;&#xD;&#xD;&#xD;&#xD;var myself = this;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;function getSensorData(callback) {&#xD;&#xD;&#xD;&#xD;&#xD; var getValue = function(response) {&#xD;&#xD;&#xD;&#xD;&#xD; sensorvalue = response.yAcc;&#xD; callback(sensorvalue);&#xD;&#xD;&#xD;&#xD;&#xD; };&#xD;&#xD;&#xD;&#xD;&#xD;&#xD; console.log("sending message to chrome");&#xD;&#xD;&#xD;&#xD;&#xD; chrome.runtime.sendMessage(finchAppID, {&#xD;&#xD;&#xD;&#xD;&#xD; message: "POLL"&#xD;&#xD;&#xD;&#xD;&#xD; }, getValue);&#xD;&#xD;&#xD;&#xD;&#xD; console.log("sent message to chrome");&#xD;&#xD;&#xD;&#xD;&#xD;};&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;function processValue(sensorvalue) {&#xD;&#xD;&#xD;&#xD;&#xD; console.log("sensor value has been set: ", sensorvalue);&#xD;&#xD;&#xD;&#xD;&#xD; myself.finchDummy4 = sensorvalue;&#xD;};&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;getSensorData(processValue);&#xD;&#xD;&#xD;&#xD;</l></block><list></list></block><block s="doWait"><l>0.01</l></block><block s="doReport"><block s="evaluate"><block s="reportJSFunction"><list></list><l>return this.finchDummy4;</l></block><list></list></block></block></script></block-definition><block-definition s="Finch Z Acceleration" type="reporter" category="sensing"><header></header><code></code><translations></translations><inputs></inputs><script><block s="doRun"><block s="reportJSFunction"><list></list><l>var sensorvalue = Number.MAX_VALUE;&#xD;&#xD;&#xD;&#xD;&#xD;finchAppID = "ojocioejjpmeccjfjlhkepchminjemod";&#xD;&#xD;&#xD;&#xD;&#xD;var myself = this;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;function getSensorData(callback) {&#xD;&#xD;&#xD;&#xD;&#xD; var getValue = function(response) {&#xD;&#xD;&#xD;&#xD;&#xD; sensorvalue = response.zAcc;&#xD; callback(sensorvalue);&#xD;&#xD;&#xD;&#xD;&#xD; };&#xD;&#xD;&#xD;&#xD;&#xD;&#xD; console.log("sending message to chrome");&#xD;&#xD;&#xD;&#xD;&#xD; chrome.runtime.sendMessage(finchAppID, {&#xD;&#xD;&#xD;&#xD;&#xD; message: "POLL"&#xD;&#xD;&#xD;&#xD;&#xD; }, getValue);&#xD;&#xD;&#xD;&#xD;&#xD; console.log("sent message to chrome");&#xD;&#xD;&#xD;&#xD;&#xD;};&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;function processValue(sensorvalue) {&#xD;&#xD;&#xD;&#xD;&#xD; console.log("sensor value has been set: ", sensorvalue);&#xD;&#xD;&#xD;&#xD;&#xD; myself.finchDummy5 = sensorvalue;&#xD;};&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;getSensorData(processValue);&#xD;&#xD;&#xD;&#xD;</l></block><list></list></block><block s="doWait"><l>0.01</l></block><block s="doReport"><block s="evaluate"><block s="reportJSFunction"><list></list><l>return this.finchDummy5;</l></block><list></list></block></block></script></block-definition><block-definition s="Finch Orientation" type="reporter" category="sensing"><header></header><code></code><translations></translations><inputs></inputs><script><block s="doRun"><block s="reportJSFunction"><list></list><l>var acceleration = Array(3);&#xD;&#xD;&#xD;&#xD;&#xD;finchAppID = "ojocioejjpmeccjfjlhkepchminjemod";&#xD;&#xD;&#xD;&#xD;&#xD;var myself = this;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;function getSensorData(callback) {&#xD;&#xD;&#xD;&#xD;&#xD; var getValue = function(response) {&#xD;&#xD;&#xD;&#xD;&#xD; acceleration[0] = response.xAcc;&#xD; acceleration[1] = response.yAcc;&#xD; acceleration[2] = response.zAcc;&#xD; callback(acceleration);&#xD;&#xD;&#xD;&#xD;&#xD; };&#xD;&#xD;&#xD;&#xD;&#xD;&#xD; console.log("sending message to chrome");&#xD;&#xD;&#xD;&#xD;&#xD; chrome.runtime.sendMessage(finchAppID, {&#xD;&#xD;&#xD;&#xD;&#xD; message: "POLL"&#xD;&#xD;&#xD;&#xD;&#xD; }, getValue);&#xD;&#xD;&#xD;&#xD;&#xD; console.log("sent message to chrome");&#xD;&#xD;&#xD;&#xD;&#xD;};&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;function processValue(sensorvalue) {&#xD; var orientation;&#xD;&#xD;&#xD;&#xD;&#xD; if(acceleration[0] &gt; -0.5 &amp;&amp; acceleration[0] &lt; 0.5 &amp;&amp; acceleration[1] &lt; 0.5 &amp;&amp; acceleration[1] &gt; -0.5 &amp;&amp; acceleration[2] &gt; 0.65 &amp;&amp; acceleration[2] &lt; 1.5)&#xD;&#xD;&#xD;&#xD;&#xD; orientation = "level";&#xD;&#xD;&#xD;&#xD;&#xD; else if(acceleration[0] &gt; -0.5 &amp;&amp; acceleration[0] &lt; 0.5 &amp;&amp; acceleration[1] &lt; 0.5 &amp;&amp; acceleration[1] &gt; -0.5 &amp;&amp; acceleration[2] &gt; -1.5 &amp;&amp; acceleration[2] &lt; -0.65)&#xD;&#xD;&#xD;&#xD;&#xD; orientation = "upside down";&#xD;&#xD;&#xD;&#xD;&#xD; else if(acceleration[0] &lt; 1.5 &amp;&amp; acceleration[0] &gt; 0.8 &amp;&amp; acceleration[1] &gt;-0.3 &amp;&amp; acceleration[1] &lt; 0.3 &amp;&amp; acceleration[2] &gt; -0.3 &amp;&amp; acceleration[2] &lt; 0.3)&#xD;&#xD;&#xD;&#xD;&#xD; orientation = "beak down";&#xD;&#xD;&#xD;&#xD;&#xD; else if(acceleration[0] &lt; -0.8 &amp;&amp; acceleration[0] &gt; -1.5 &amp;&amp; acceleration[1] &gt;-0.3 &amp;&amp; acceleration[1] &lt; 0.3 &amp;&amp; acceleration[2] &gt; -0.3 &amp;&amp; acceleration[2] &lt; 0.3)&#xD;&#xD;&#xD;&#xD;&#xD; orientation = "beak up";&#xD;&#xD;&#xD;&#xD;&#xD; else if(acceleration[0] &gt; -0.5 &amp;&amp; acceleration[0] &lt; 0.5 &amp;&amp; acceleration[1] &gt; 0.7 &amp;&amp; acceleration[1] &lt; 1.5 &amp;&amp; acceleration[2] &gt; -0.5 &amp;&amp; acceleration[2] &lt; 0.5)&#xD;&#xD;&#xD;&#xD;&#xD; orientation = "left wing down";&#xD;&#xD;&#xD;&#xD;&#xD; else if(acceleration[0] &gt; -0.5 &amp;&amp; acceleration[0] &lt; 0.5 &amp;&amp; acceleration[1] &gt; -1.5 &amp;&amp; acceleration[1] &lt; -0.7 &amp;&amp; acceleration[2] &gt; -0.5 &amp;&amp; acceleration[2] &lt; 0.5)&#xD;&#xD;&#xD;&#xD;&#xD; orientation = "right wing down";&#xD;&#xD;&#xD;&#xD;&#xD; else&#xD;&#xD;&#xD;&#xD;&#xD; orientation = "in between";&#xD; console.log("sensor value has been set: ", orientation);&#xD;&#xD;&#xD;&#xD;&#xD; myself.finchDummy6 = orientation;&#xD;};&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;getSensorData(processValue);&#xD;&#xD;&#xD;&#xD;</l></block><list></list></block><block s="doWait"><l>0.01</l></block><block s="doReport"><block s="evaluate"><block s="reportJSFunction"><list></list><l>return this.finchDummy6;</l></block><list></list></block></block></script></block-definition><block-definition s="Finch Accelerations" type="reporter" category="sensing"><header></header><code></code><translations></translations><inputs></inputs><script><block s="doReport"><block s="reportNewList"><list><custom-block s="Finch X Acceleration"></custom-block><custom-block s="Finch Y Acceleration"></custom-block><custom-block s="Finch Z Acceleration"></custom-block></list></block></block></script></block-definition><block-definition s="Finch Left Obstacle" type="predicate" category="sensing"><header></header><code></code><translations></translations><inputs></inputs><script><block s="doRun"><block s="reportJSFunction"><list></list><l>var sensorvalue = Number.MAX_VALUE;&#xD;&#xD;&#xD;&#xD;&#xD;finchAppID = "ojocioejjpmeccjfjlhkepchminjemod";&#xD;&#xD;&#xD;&#xD;&#xD;var myself = this;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;function getSensorData(callback) {&#xD;&#xD;&#xD;&#xD;&#xD; var getValue = function(response) {&#xD;&#xD;&#xD;&#xD;&#xD; sensorvalue = response.obs1;&#xD; callback(sensorvalue);&#xD;&#xD;&#xD;&#xD;&#xD; };&#xD;&#xD;&#xD;&#xD;&#xD; console.log("sending message to chrome");&#xD;&#xD;&#xD;&#xD;&#xD; chrome.runtime.sendMessage(finchAppID, {&#xD;&#xD;&#xD;&#xD;&#xD; message: "POLL"&#xD;&#xD;&#xD;&#xD;&#xD; }, getValue);&#xD;&#xD;&#xD;&#xD;&#xD; console.log("sent message to chrome");&#xD;&#xD;&#xD;&#xD;&#xD;};&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;function processValue(sensorvalue) {&#xD;&#xD;&#xD;&#xD;&#xD; var pred = (sensorvalue !== 0);&#xD; console.log("sensor value has been set: ", pred);&#xD;&#xD;&#xD;&#xD;&#xD; myself.finchDummy8 = pred;&#xD;};&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;getSensorData(processValue);&#xD;&#xD;&#xD;&#xD;</l></block><list></list></block><block s="doWait"><l>0.01</l></block><block s="doReport"><block s="evaluate"><block s="reportJSFunction"><list></list><l>return this.finchDummy8;</l></block><list></list></block></block></script></block-definition><block-definition s="Finch Right Obstacle" type="predicate" category="sensing"><header></header><code></code><translations></translations><inputs></inputs><script><block s="doRun"><block s="reportJSFunction"><list></list><l>var sensorvalue = Number.MAX_VALUE;&#xD;&#xD;&#xD;&#xD;&#xD;finchAppID = "ojocioejjpmeccjfjlhkepchminjemod";&#xD;&#xD;&#xD;&#xD;&#xD;var myself = this;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;function getSensorData(callback) {&#xD;&#xD;&#xD;&#xD;&#xD; var getValue = function(response) {&#xD;&#xD;&#xD;&#xD;&#xD; sensorvalue = response.obs2;&#xD; callback(sensorvalue);&#xD;&#xD;&#xD;&#xD;&#xD; };&#xD;&#xD;&#xD;&#xD;&#xD; console.log("sending message to chrome");&#xD;&#xD;&#xD;&#xD;&#xD; chrome.runtime.sendMessage(finchAppID, {&#xD;&#xD;&#xD;&#xD;&#xD; message: "POLL"&#xD;&#xD;&#xD;&#xD;&#xD; }, getValue);&#xD;&#xD;&#xD;&#xD;&#xD; console.log("sent message to chrome");&#xD;&#xD;&#xD;&#xD;&#xD;};&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;function processValue(sensorvalue) {&#xD;&#xD;&#xD;&#xD;&#xD; var pred = (sensorvalue !== 0);&#xD; console.log("sensor value has been set: ", pred);&#xD;&#xD;&#xD;&#xD;&#xD; myself.finchDummy9 = pred;&#xD;};&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;getSensorData(processValue);&#xD;&#xD;&#xD;&#xD;</l></block><list></list></block><block s="doWait"><l>0.01</l></block><block s="doReport"><block s="evaluate"><block s="reportJSFunction"><list></list><l>return this.finchDummy9;</l></block><list></list></block></block></script></block-definition><block-definition s="Finch Obstacles" type="reporter" category="sensing"><header></header><code></code><translations></translations><inputs></inputs><script><block s="doReport"><block s="reportNewList"><list><custom-block s="Finch Left Obstacle"></custom-block><custom-block s="Finch Right Obstacle"></custom-block></list></block></block></script></block-definition><block-definition s="Finch Temperature Celcius" type="reporter" category="sensing"><header></header><code></code><translations></translations><inputs></inputs><script><block s="doRun"><block s="reportJSFunction"><list></list><l>var sensorvalue = Number.MAX_VALUE;&#xD;&#xD;&#xD;&#xD;&#xD;finchAppID = "ojocioejjpmeccjfjlhkepchminjemod";&#xD;&#xD;&#xD;&#xD;&#xD;var myself = this;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;function getSensorData(callback) {&#xD;&#xD;&#xD;&#xD;&#xD; var getValue = function(response) {&#xD;&#xD;&#xD;&#xD;&#xD; sensorvalue = response.temperature;&#xD; callback(sensorvalue);&#xD;&#xD;&#xD;&#xD;&#xD; };&#xD;&#xD;&#xD;&#xD;&#xD; console.log("sending message to chrome");&#xD;&#xD;&#xD;&#xD;&#xD; chrome.runtime.sendMessage(finchAppID, {&#xD;&#xD;&#xD;&#xD;&#xD; message: "POLL"&#xD;&#xD;&#xD;&#xD;&#xD; }, getValue);&#xD;&#xD;&#xD;&#xD;&#xD; console.log("sent message to chrome");&#xD;&#xD;&#xD;&#xD;&#xD;};&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;function processValue(sensorvalue) {&#xD;&#xD;&#xD;&#xD;&#xD; &#xD; console.log("sensor value has been set: ", sensorvalue);&#xD;&#xD;&#xD;&#xD;&#xD; myself.finchDummy10 = sensorvalue;&#xD;};&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;getSensorData(processValue);&#xD;&#xD;&#xD;&#xD;</l></block><list></list></block><block s="doWait"><l>0.01</l></block><block s="doReport"><block s="evaluate"><block s="reportJSFunction"><list></list><l>return this.finchDummy10;</l></block><list></list></block></block></script></block-definition><block-definition s="Finch Temperature Fahrenheit" type="reporter" category="sensing"><header></header><code></code><translations></translations><inputs></inputs><script><block s="doReport"><block s="reportSum"><block s="reportProduct"><l>1.8</l><custom-block s="Finch Temperature Celcius"></custom-block></block><l>32</l></block></block></script></block-definition><block-definition s="$arrowUpOutline-2.0-255-255-255 %&apos;Speed&apos;" type="command" category="motion"><header></header><code></code><translations></translations><inputs><input type="%n">5</input></inputs><script><custom-block s="Move Finch Left: %n Right: %n"><block s="reportProduct"><l>10</l><block var="Speed"/></block><block s="reportProduct"><l>10</l><block var="Speed"/></block></custom-block></script></block-definition><block-definition s="$arrowDownOutline-2.0-255-255-255 %&apos;Speed&apos;" type="command" category="motion"><header></header><code></code><translations></translations><inputs><input type="%n">5</input></inputs><script><custom-block s="Move Finch Left: %n Right: %n"><block s="reportProduct"><l>-10</l><block var="Speed"/></block><block s="reportProduct"><l>-10</l><block var="Speed"/></block></custom-block></script></block-definition><block-definition s="$arrowLeftOutline-2.0 %&apos;Speed&apos;" type="command" category="motion"><header></header><code></code><translations></translations><inputs><input type="%n">5</input></inputs><script><custom-block s="Move Finch Left: %n Right: %n"><block s="reportProduct"><l>-10</l><block var="Speed"/></block><block s="reportProduct"><l>10</l><block var="Speed"/></block></custom-block></script></block-definition><block-definition s="$arrowRightOutline-2.0 %&apos;Speed&apos;" type="command" category="motion"><header></header><code></code><translations></translations><inputs><input type="%n">5</input></inputs><script><custom-block s="Move Finch Left: %n Right: %n"><block s="reportProduct"><l>10</l><block var="Speed"/></block><block s="reportProduct"><l>-10</l><block var="Speed"/></block></custom-block></script></block-definition><block-definition s="$circle-2.0-255-0-0 %&apos;Red&apos; $circle-2.0-0-255-0 %&apos;Green&apos; $circle-2.0-0-0-255 %&apos;Blue&apos;" type="command" category="motion"><header></header><code></code><translations></translations><inputs><input type="%n">5</input><input type="%n">0</input><input type="%n">5</input></inputs><script><custom-block s="Finch LED R: %n G: %n B: %n"><block s="reportProduct"><l>10</l><block var="Red"/></block><block s="reportProduct"><l>10</l><block var="Green"/></block><block s="reportProduct"><l>10</l><block var="Blue"/></block></custom-block><block s="doWait"><l>0.1</l></block></script></block-definition><block-definition s="$flash-2.0-255-255-255 %&apos;freq&apos;" type="command" category="motion"><header></header><code></code><translations></translations><inputs><input type="%s">A</input></inputs><script><block s="doIf"><block s="reportEquals"><block var="freq"/><l>C</l></block><script><block s="doSetVar"><l>freq</l><l>523</l></block></script></block><block s="doIf"><block s="reportEquals"><block var="freq"/><l>D</l></block><script><block s="doSetVar"><l>freq</l><l>587</l></block></script></block><block s="doIf"><block s="reportEquals"><block var="freq"/><l>E</l></block><script><block s="doSetVar"><l>freq</l><l>659</l></block></script></block><block s="doIf"><block s="reportEquals"><block var="freq"/><l>F</l></block><script><block s="doSetVar"><l>freq</l><l>698</l></block></script></block><block s="doIf"><block s="reportEquals"><block var="freq"/><l>G</l></block><script><block s="doSetVar"><l>freq</l><l>784</l></block></script></block><block s="doIf"><block s="reportEquals"><block var="freq"/><l>A</l></block><script><block s="doSetVar"><l>freq</l><l>880</l></block></script></block><block s="doIf"><block s="reportEquals"><block var="freq"/><l>B</l></block><script><block s="doSetVar"><l>freq</l><l>988</l></block></script></block><custom-block s="Finch Buzzer %n Hz %n ms"><block var="freq"/><l>500</l></custom-block></script></block-definition><block-definition s="$arrowUpOutline-2.0 %&apos;leftSpeed&apos; $arrowUpOutline-2.0 %&apos;rightSpeed&apos;" type="command" category="motion"><header></header><code></code><translations></translations><inputs><input type="%n">0</input><input type="%n">0</input></inputs><script><custom-block s="Move Finch Left: %n Right: %n"><block s="reportProduct"><l>10</l><block var="leftSpeed"/></block><block s="reportProduct"><l>10</l><block var="rightSpeed"/></block></custom-block></script></block-definition><block-definition s="$octagon-2.0-255-0-0 STOP!" type="command" category="motion"><header></header><code></code><translations></translations><inputs></inputs><script><custom-block s="$arrowUpOutline-2.0 %n $arrowUpOutline-2.0 %n"><l>0</l><l>0</l></custom-block></script></block-definition><block-definition s="$pause-2.0-255-255-0 WAIT %&apos;delay&apos;" type="command" category="motion"><header></header><code></code><translations></translations><inputs><input type="%n">5</input></inputs><script><block s="doWait"><block s="reportProduct"><l>0.1</l><block var="delay"/></block></block></script></block-definition></blocks>